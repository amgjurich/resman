(function(e){function t(t){for(var i,o,a=t[0],l=t[1],s=t[2],f=0,p=[];f<a.length;f++)o=a[f],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&p.push(c[o][0]),c[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var l=n[a];0!==c[l]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},c={app:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2cf44":function(e,t,n){"use strict";n("4996")},4996:function(e,t,n){},5649:function(e,t,n){"use strict";n("6501")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),c={id:"app"},r=Object(i["f"])("div",{class:"logo-container"},[Object(i["f"])("p",{class:"logo"},"LOGO"),Object(i["f"])("p",{class:"name"},"John Smith")],-1),o=Object(i["f"])("div",{class:"header-container"},[Object(i["f"])("h1",null,"Rewards")],-1),a=Object(i["f"])("div",{class:"terms-container"},[Object(i["f"])("h3",null,"Terms & Conditions | Privacy Policy")],-1);function l(e,t,n,l,s,u){var f=Object(i["x"])("router-view");return Object(i["q"])(),Object(i["e"])("div",c,[r,o,Object(i["h"])(f),a])}var s={methods:{}};n("5649");s.render=l;var u=s,f=n("6c02");n("b0c0");Object(i["t"])("data-v-3805a6e6");var p={class:"prizes"},b=Object(i["f"])("h2",null,"Here is the full list of prizes that you can win.",-1),d={class:"prizes-container"},h={class:"each-prize"},j=["src"],O={class:"description-container"},v=Object(i["g"])(" Redeem > ");function g(e,t,n,c,r,o){var a=Object(i["x"])("router-link");return Object(i["q"])(),Object(i["e"])("div",p,[b,Object(i["f"])("div",d,[(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(r.prizes,(function(e){return Object(i["q"])(),Object(i["e"])("div",{key:e.id},[Object(i["f"])("div",h,[Object(i["f"])("img",{alt:"Prize",src:e.image_url},null,8,j),Object(i["f"])("div",O,[Object(i["f"])("p",null,Object(i["z"])(e.name),1),Object(i["h"])(a,{class:"router-link",to:{name:"PrizeDetails",params:{id:e._id}}},{default:Object(i["C"])((function(){return[v]})),_:2},1032,["to"])])])])})),128))])])}Object(i["r"])();n("d3b7");var z={data:function(){return{prizes:[]}},mounted:function(){var e=this;console.log("mounted prizes"),fetch("/api/prizes").then((function(e){return console.log("res",e),e.json()})).then((function(t){console.log("my data in fetch",t),e.prizes=t})).catch((function(e){return console.log("error in fetch request in prizes",e.message)}))}};n("2cf44");z.render=g,z.__scopeId="data-v-3805a6e6";var m=z;n("a4d3"),n("e01a");Object(i["t"])("data-v-1acb8052");var y={class:"prize-page-container"},k={key:0},q={key:0,class:"lightbox-container"},w={class:"lightbox-background"},P={class:"clarify-container"},_={class:"x-button"},x=Object(i["f"])("h1",null,"Are you sure?",-1),C={class:"lightbox-image-container"},S=["alt","src"],A={class:"clarifying-buttons"},M={key:1,id:"approved-container",class:"lightbox-container"},T={class:"approved-lightbox-background"},I={class:"clarify-container"},J={class:"x-button"},R=Object(i["f"])("h1",null,"Congratulations!",-1),D=Object(i["g"])(" You redeemed "),H=Object(i["f"])("br",null,null,-1),L={class:"clarifying-buttons"},N={class:"winner-container"},Q=["alt","src"],X={class:"explanation-container"},Y=Object(i["f"])("hr",null,null,-1),F=Object(i["f"])("hr",null,null,-1),G=Object(i["f"])("hr",null,null,-1),W={class:"description-container"},B=Object(i["f"])("h2",null,"Description",-1),E={key:1},K=Object(i["f"])("p",null,"Loading prize details...",-1),U=[K];function V(e,t,n,c,r,o){return Object(i["q"])(),Object(i["e"])("div",y,[r.prize?(Object(i["q"])(),Object(i["e"])("div",k,[r.visible?(Object(i["q"])(),Object(i["e"])("div",q,[Object(i["f"])("div",w,[Object(i["f"])("div",P,[Object(i["f"])("div",_,[Object(i["f"])("button",{onClick:t[0]||(t[0]=function(){return o.hide&&o.hide.apply(o,arguments)})},"X")]),x]),Object(i["f"])("div",C,[Object(i["f"])("img",{alt:r.prize.name,src:r.prize.image_url},null,8,S)]),Object(i["f"])("p",null,"Redeem for "+Object(i["z"])(r.prize.name)+"?",1),Object(i["f"])("div",A,[Object(i["f"])("button",{onClick:t[1]||(t[1]=function(){return o.approve&&o.approve.apply(o,arguments)})},"Yes"),Object(i["f"])("button",{id:"cancel",onClick:t[2]||(t[2]=function(){return o.hide&&o.hide.apply(o,arguments)})},"Cancel")])])])):Object(i["d"])("",!0),r.approved?(Object(i["q"])(),Object(i["e"])("div",M,[Object(i["f"])("div",T,[Object(i["f"])("div",I,[Object(i["f"])("div",J,[Object(i["f"])("button",{onClick:t[3]||(t[3]=function(){return o.hide&&o.hide.apply(o,arguments)})},"X")]),R]),D,H,Object(i["g"])(" "+Object(i["z"])(r.prize.name)+". ",1),Object(i["f"])("div",L,[Object(i["f"])("button",{onClick:t[4]||(t[4]=function(){return o.hide&&o.hide.apply(o,arguments)})},"More Prizes")])])])):Object(i["d"])("",!0),Object(i["f"])("div",N,[Object(i["f"])("img",{alt:r.prize.name,src:r.prize.image_url},null,8,Q),Object(i["f"])("div",X,[Object(i["f"])("h1",null,"Win a "+Object(i["z"])(r.prize.name),1),Y,Object(i["f"])("button",{onClick:t[5]||(t[5]=function(){return o.show&&o.show.apply(o,arguments)})},"Reedem >"),F,Object(i["f"])("p",null,Object(i["z"])(r.prize.quantity)+" left in stock",1)])]),G,Object(i["f"])("div",W,[B,Object(i["f"])("p",null,Object(i["z"])(r.prize.description),1)])])):(Object(i["q"])(),Object(i["e"])("div",E,U))])}Object(i["r"])();var Z={props:["id"],data:function(){return{prize:null,visible:!1,approved:!1}},methods:{show:function(){console.log("clicked"),this.visible=!0},hide:function(){this.visible=!1,this.approved=!1},approve:function(){this.approved=!0,this.visible=!1,this.changeQuantity()},changeQuantity:function(){if(console.log("invoked"),!(this.prize.quantity<1)){var e=this.prize.quantity-1,t={quantity:e,name:this.prize.name,image_url:this.prize.image_url,createdAt:this.prize.createdAt,description:this.prize.description};console.log(t),fetch("/api/"+this.id,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log("error in patch request",e)})),this.getPrizeInfo()}},getPrizeInfo:function(){var e=this;fetch("/api/prize/"+this.id).then((function(e){return e.json()})).then((function(t){e.prize=t[0]})).catch((function(e){return console.log("error in fetch request in prize",e.message)}))}},mounted:function(){var e=this;fetch("/api/prize/"+this.id).then((function(e){return e.json()})).then((function(t){e.prize=t[0]})).catch((function(e){return console.log("error in fetch request in prize",e.message)}))},updated:function(){var e=this;fetch("/api/prize/"+this.id).then((function(e){return e.json()})).then((function(t){e.prize=t[0]})).catch((function(e){return console.log("error in fetch request in prize",e.message)}))}};n("c77a");Z.render=V,Z.__scopeId="data-v-1acb8052";var $=Z,ee=Object(i["f"])("h2",null,"404",-1),te=Object(i["f"])("h3",null,"Page not found",-1);function ne(e,t){return Object(i["q"])(),Object(i["e"])(i["a"],null,[ee,te],64)}const ie={};ie.render=ne;var ce=ie,re=[{path:"/",name:"Prizes",component:m},{path:"/prize/:id",name:"PrizeDetails",component:$,props:!0},{path:"/:catchAll(.*)",name:"NotFound",component:ce}],oe=Object(f["a"])({history:Object(f["b"])("/"),routes:re}),ae=oe;Object(i["c"])(u).use(ae).mount("#app")},6501:function(e,t,n){},"9e01":function(e,t,n){},c77a:function(e,t,n){"use strict";n("9e01")}});
//# sourceMappingURL=app.2c464041.js.map